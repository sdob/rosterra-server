{% extends 'main/base.html' %}
{% load staticfiles %}

{% block extra_stylesheets %}
<link rel="stylesheet" href="{% static 'main/flags.css' %}">
{% endblock %}

{% block main_content %}
<div class="container">
    <div class="jumbotron">
        <div class="container">
            <h1>OK, let's get started.</h1>
        </div>
    </div>
    <form role="form">
        <div class="form-group">
            <h2>Organization name</h2>
            <label for="companyNameInput">Company name (e.g. SMERSH, The Incredibles)</label>
            <input type="text" class="form-control" id="companyNameInput" placeholder="Enter name">
        </div>
        <div class="form-group">
            <h2>Where are you calling from?</h2>
            <select class="form-control">
                <option class="countrySelectOption" data-iso="null">MYOB</option>
                {% for country in countries %}
                <option class="countrySelectOption" data-iso="{{country.iso|lower}}">{{country.printable_name}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="container" id="countrySpecificStuff">
        </div>
        <button type="submit" class="btn btn-default">Let's go!</button>
    </form>
</div>
{% endblock %}
{% block extra_scripts %}
<script type="text/javascript">
    $(function () {
        $('.countrySelectOption').click(function () {
            var iso = $(this).attr('data-iso');
        });
    });
    $(function () {
        $(".dropdown-menu li a").click(function () {
            var selectedText = $(this).text();
            console.log($(this).parents('.dropdown-toggle'));
            //$(this).parents('.dropdown-toggle').text(selectedText);
            //$(this).parents('dropdown').find('.dropdown-toggle').html(selectedText);
        });
    });
</script>
{% endblock %}
